@startuml
class App {
- tickets : TicketHandler
- Catalog catalog
- InputDriver input
+ Config config
+ App()
+ void init()
+ Product getProduct(int Id)
+ void deleteProduct(int Id)
+ void updateProduct(int Id)
+ void printTicket()
+ {static} void main(String[] args)
- int handleRequest(Request request)
- void echo(Request request)
- void help()
- void exit()
}
class TicketModule {
- App app
- HashMap<Integer, Integer> ticket;
- HashMap<String, Integer> categories;
- creationDate : LocalDateTime
- id : int
- closingDate : LocalDateTime
- TicketModule(cashId : int, userId : String)
- int handleRequest(Request request)
- int addProduct(Product product, int quantity)
+ int updateProduct(Product product)
+ int deleteProduct(Product product)
+ void printTicket()
}
class Email {
- username : String
- domain : String
+ Email(username : String, domain : String)
+ getUsername() : String
+ getDomain() : String
}
class Cashier {
- name : String
- email : Email
- tickets : List<Ticket>
+ Cashier(name : String, email : Email)
+ getName() : String
+ getEmail() : Email
+ handleRequest(request : Request)
- addTicket(userId : String) : int
- addProduct(ticketId : int, prodId : int, amount: int,
pers : String[]) : int
- removeTicket() : int
- printTicket() : int
}
class Customer{
- name : String
- email : Email
- cashierId : int
- tickets : List<int>
+ Customer(name : String, email : Email, cashierId : int)
+ getName() : String
+ getCashId() : int
+ getEmail() : Email
+ addTicket(ticketId : int) : int
}
class UserModule {
- customers: Hashmap<String,Client>
- cashiers : Hashmap<int,Cashier>
+ UserModule(App app)
+ handleRequest(request : Request) : int
- addCustomer(name : String, email : Email, cashierId : int) : int
- removeCustomer(dni : String) : int
- listCustomers() : int
- addCashier(name : String, email : Email) : int
- removeCashier(id : String) : int
- listCashiers() int
- cashierTickets(id : String) : int
- cashierAction(request : Request) : int
- listTickets() : int
}
class Request {
+ String family
+ String command
+ ArrayList<String> args
+ Request()
}
class Config {
- HashMap<String category, Double discount> categories
+ Config()
+ Config(String filePath)
+ Double getDiscount(String category)
+ int getMaxProducts()
+ int getMaxProductsPerTicket()
+ boolean validCategory(String category)
+ String[] getCategories()
}
class InputDriver {
- Scanner input
+ Request next()
}
class ProductModule {
- App app
- HashMap<int id, Product product> products
+ ProductModule(App app)
+ int handleRequest(Request request)
+ Product getProduct(int id)
- int addProduct(String name, String category, double price,
maxPers : int)
- updateProduct(int Id, String field, String value) : int
- addFood(name : String, price : double, expirationDate : String,
maxPeople : int) : int
- addMeeting(name : String, price : double, expirationDate : String,
maxPeople : int) : int
- printProducts() : void
- deleteProduct(int Id) : int
}
class Product {
- Category category
- String name
- Double price
- maxPers : int
- event : Event
+ Product(Category category, String name, Double Price, String date,
int maxPeople)
+ Product(Category category, String name, Double Price, maxPers : int)
+ Product(Category category, String name, Double Price)
+ String getCategory()
+ Double getPrice()
+ String getName()
+ getMaxPers() : int
+ getEvent() : Event
}
class Event {
- expireDate : LocalDate
- maxPeople : int
- type : EventType
+ Event(expireDate : LocalDate, maxPeople : int, eventType : EventType)
+ getExpireDate() : LocalDate
+ getMaxPeople() : int
+ getType : EventType
}
enum EventType {
FOOD(36)
MEETING(12)
- planningTime 'hours' : int
+ EventType (planningTime : int)
+ getPlanTime() : int
}
enum Category {
MERCH(0)
STATIONERY(5)
CLOTHES(7)
BOOK(10)
ELECTRONICS(3)
- discount : double
+ Category(discount : double)
+ getDiscount() : double
}
App *-- ProductModule
App *-- UserModule
App *-- Config
App *-- InputDriver
ProductModule o-- Product
App -- Request : uses >
App -- ProductModule : sends Request >
App -- UserModule : sends Request >
InputDriver -- App : creates Request >
@enduml
